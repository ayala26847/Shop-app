@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Bakery Premium Design System */
@layer base {
  html {
    scroll-behavior: smooth;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  body {
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: linear-gradient(135deg, #fefdf9 0%, #fdf9f0 100%);
    color: #404040;
    line-height: 1.6;
  }

  /* Premium typography styles */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.3;
    color: #262626;
    letter-spacing: -0.025em;
  }

  h1 { font-size: 2.5rem; }
  h2 { font-size: 2rem; }
  h3 { font-size: 1.5rem; }
  h4 { font-size: 1.25rem; }
  h5 { font-size: 1.125rem; }
  h6 { font-size: 1rem; }

  /* Enhanced selection styles */
  ::selection {
    background: rgba(232, 197, 133, 0.3);
    color: #8b6332;
  }

  ::-moz-selection {
    background: rgba(232, 197, 133, 0.3);
    color: #8b6332;
  }
  
  /* RTL specific styles */
  [dir="rtl"] {
    text-align: right;
  }
  
  [dir="rtl"] .space-x-2 > * + * {
    margin-left: 0;
    margin-right: 0.5rem;
  }
  
  [dir="rtl"] .space-x-3 > * + * {
    margin-left: 0;
    margin-right: 0.75rem;
  }
  
  [dir="rtl"] .space-x-4 > * + * {
    margin-left: 0;
    margin-right: 1rem;
  }
  
  [dir="rtl"] .space-x-8 > * + * {
    margin-left: 0;
    margin-right: 2rem;
  }
  
  /* RTL flex direction adjustments */
  [dir="rtl"] .flex-row {
    flex-direction: row-reverse;
  }
  
  [dir="rtl"] .flex-row-reverse {
    flex-direction: row;
  }
  
  /* RTL text alignment */
  [dir="rtl"] .text-left {
    text-align: right;
  }
  
  [dir="rtl"] .text-right {
    text-align: left;
  }
  
  /* RTL margin and padding adjustments */
  [dir="rtl"] .ml-1 { margin-left: 0; margin-right: 0.25rem; }
  [dir="rtl"] .ml-2 { margin-left: 0; margin-right: 0.5rem; }
  [dir="rtl"] .ml-3 { margin-left: 0; margin-right: 0.75rem; }
  [dir="rtl"] .ml-4 { margin-left: 0; margin-right: 1rem; }
  [dir="rtl"] .ml-6 { margin-left: 0; margin-right: 1.5rem; }
  
  [dir="rtl"] .mr-1 { margin-right: 0; margin-left: 0.25rem; }
  [dir="rtl"] .mr-2 { margin-right: 0; margin-left: 0.5rem; }
  [dir="rtl"] .mr-3 { margin-right: 0; margin-left: 0.75rem; }
  [dir="rtl"] .mr-4 { margin-right: 0; margin-left: 1rem; }
  [dir="rtl"] .mr-6 { margin-right: 0; margin-left: 1.5rem; }
  
  [dir="rtl"] .pl-3 { padding-left: 0; padding-right: 0.75rem; }
  [dir="rtl"] .pl-4 { padding-left: 0; padding-right: 1rem; }
  [dir="rtl"] .pl-6 { padding-left: 0; padding-right: 1.5rem; }
  [dir="rtl"] .pl-8 { padding-left: 0; padding-right: 2rem; }
  [dir="rtl"] .pl-10 { padding-left: 0; padding-right: 2.5rem; }
  
  [dir="rtl"] .pr-3 { padding-right: 0; padding-left: 0.75rem; }
  [dir="rtl"] .pr-4 { padding-right: 0; padding-left: 1rem; }
  [dir="rtl"] .pr-6 { padding-right: 0; padding-left: 1.5rem; }
  [dir="rtl"] .pr-8 { padding-right: 0; padding-left: 2rem; }
  [dir="rtl"] .pr-10 { padding-right: 0; padding-left: 2.5rem; }
  
  /* Mobile touch improvements */
  @media (hover: none) and (pointer: coarse) {
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }

    /* Improved mobile tap targets */
    .nav-link {
      min-height: 48px;
      display: flex;
      align-items: center;
    }

    /* Better mobile form controls */
    input, select, textarea {
      min-height: 44px;
      font-size: 16px; /* Prevent zoom on iOS */
    }
  }
  
  /* Custom scrollbar */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  /* Smooth transitions for all interactive elements */
  button, a, input, select, textarea {
    transition: all 0.2s ease-in-out;
  }
  
  /* Focus styles for accessibility */
  *:focus {
    outline: 2px solid transparent;
    outline-offset: 2px;
  }

  *:focus-visible {
    outline: 2px solid #b8825a;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(232, 197, 133, 0.3);
  }

  /* Performance optimizations */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Reduce animations for users who prefer reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn-primary {
      border: 2px solid;
    }

    .nav-link::after {
      display: none;
    }
  }
}

@layer components {
  /* Premium Bakery Component System */

  /* Primary button with warm bakery gradient */
  .btn-primary {
    @apply bg-gradient-to-br from-bakery-brown-500 via-bakery-peach-500 to-bakery-gold-500
           text-white font-semibold py-3 px-6 rounded-2xl min-h-[44px] touch-manipulation
           hover:from-bakery-brown-600 hover:via-bakery-peach-600 hover:to-bakery-gold-600
           transition-all duration-300 shadow-warm hover:shadow-large
           hover:scale-[1.02] active:scale-[0.98]
           focus:ring-4 focus:ring-bakery-cream-300 focus:outline-none;
  }

  /* Secondary button with cream tones */
  .btn-secondary {
    @apply bg-gradient-to-br from-bakery-cream-100 to-bakery-cream-200
           text-bakery-brown-700 font-medium py-3 px-6 rounded-2xl border border-bakery-cream-300 min-h-[44px] touch-manipulation
           hover:from-bakery-cream-200 hover:to-bakery-cream-300 hover:border-bakery-cream-400
           transition-all duration-300 shadow-soft hover:shadow-medium
           hover:scale-[1.02] active:scale-[0.98]
           focus:ring-4 focus:ring-bakery-cream-200 focus:outline-none;
  }

  /* Outline button for less prominent actions */
  .btn-outline {
    @apply border-2 border-bakery-brown-300 text-bakery-brown-600 font-medium py-3 px-6 rounded-2xl min-h-[44px] touch-manipulation
           hover:bg-bakery-brown-50 hover:border-bakery-brown-400 hover:text-bakery-brown-700
           transition-all duration-300 shadow-soft hover:shadow-medium
           hover:scale-[1.02] active:scale-[0.98]
           focus:ring-4 focus:ring-bakery-brown-200 focus:outline-none;
  }

  /* Small button variant */
  .btn-sm {
    @apply py-2 px-4 text-sm rounded-xl min-h-[40px] touch-manipulation;
  }

  /* Large button variant */
  .btn-lg {
    @apply py-4 px-8 text-lg rounded-3xl min-h-[48px] touch-manipulation;
  }

  /* Danger button for destructive actions */
  .btn-danger {
    @apply bg-gradient-to-br from-red-500 to-red-600 text-white font-semibold py-3 px-6 rounded-2xl min-h-[44px] touch-manipulation
           hover:from-red-600 hover:to-red-700
           transition-all duration-300 shadow-warm hover:shadow-large
           hover:scale-[1.02] active:scale-[0.98]
           focus:ring-4 focus:ring-red-200 focus:outline-none;
  }

  /* Success button for positive actions */
  .btn-success {
    @apply bg-gradient-to-br from-green-500 to-green-600 text-white font-semibold py-3 px-6 rounded-2xl min-h-[44px] touch-manipulation
           hover:from-green-600 hover:to-green-700
           transition-all duration-300 shadow-warm hover:shadow-large
           hover:scale-[1.02] active:scale-[0.98]
           focus:ring-4 focus:ring-green-200 focus:outline-none;
  }

  /* Disabled button state */
  .btn-disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none min-h-[44px] touch-manipulation;
  }

  /* Mobile-specific button adjustments */
  @media (max-width: 768px) {
    .btn-primary {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .btn-secondary {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .btn-outline {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .btn-sm {
      @apply py-3 px-4 text-sm min-h-[44px];
    }
    
    .btn-lg {
      @apply py-5 px-8 text-lg min-h-[52px];
    }
    
    .btn-danger {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .btn-success {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .btn-disabled {
      @apply py-4 px-6 text-base min-h-[48px];
    }
    
    .form-input {
      @apply py-3 px-4 text-base min-h-[48px];
    }
    
    .category-chip {
      @apply py-3 px-4 text-sm min-h-[44px];
    }
  }

  /* Consistent spacing utilities */
  .section-padding {
    @apply py-12 sm:py-16 lg:py-20;
  }

  .container-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }

  /* Typography consistency */
  .heading-primary {
    @apply text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight;
  }

  .heading-secondary {
    @apply text-2xl sm:text-3xl font-semibold text-gray-800 leading-tight;
  }

  .text-body {
    @apply text-base sm:text-lg text-gray-600 leading-relaxed;
  }

  .text-caption {
    @apply text-sm text-gray-500 leading-normal;
  }

  /* Form consistency */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700;
  }

  .form-input {
    @apply input-field min-h-[44px] text-base touch-manipulation;
  }

  .form-error {
    @apply text-sm text-red-600 mt-1;
  }

  /* Card consistency */
  .card {
    @apply bg-white rounded-2xl shadow-soft border border-gray-100 p-6;
  }

  .card-header {
    @apply border-b border-gray-100 pb-4 mb-4;
  }

  .card-title {
    @apply text-lg font-semibold text-gray-900;
  }

  .card-content {
    @apply text-gray-600;
  }

  /* Premium product card */
  .product-card {
    @apply bg-white/80 backdrop-blur-sm rounded-3xl shadow-soft border border-bakery-cream-200
           hover:shadow-warm hover:border-bakery-cream-300 hover:bg-white
           transition-all duration-300 overflow-hidden
           hover:scale-[1.02] hover:-translate-y-1
           focus-within:ring-4 focus-within:ring-bakery-cream-300 focus-within:outline-none;
  }

  /* Mobile responsive product cards */
  @media (max-width: 640px) {
    .product-card {
      @apply hover:scale-100 hover:translate-y-0; /* Disable hover effects on mobile */
    }
  }

  /* Enhanced input fields */
  .input-field {
    @apply w-full px-4 py-3 border-2 border-bakery-cream-300 rounded-2xl
           bg-white/50 backdrop-blur-sm
           focus:outline-none focus:ring-4 focus:ring-bakery-cream-200 focus:border-bakery-brown-400
           transition-all duration-300 placeholder-bakery-brown-400
           hover:border-bakery-cream-400 hover:bg-white/80;
  }

  /* Premium form container */
  .form-container {
    @apply bg-white/90 backdrop-blur-md rounded-3xl shadow-large border border-bakery-cream-200 p-8;
  }

  /* Feature card for benefits/highlights */
  .feature-card {
    @apply bg-gradient-to-br from-bakery-cream-50 to-bakery-cream-100
           rounded-2xl p-6 border border-bakery-cream-200
           hover:from-bakery-cream-100 hover:to-bakery-cream-200 hover:border-bakery-cream-300
           transition-all duration-300 shadow-soft hover:shadow-medium
           hover:scale-[1.02] hover:-translate-y-0.5;
  }

  /* Navigation link styles */
  .nav-link {
    @apply relative px-4 py-2 text-bakery-brown-700 hover:text-bakery-brown-900
           font-medium transition-all duration-300 rounded-xl
           hover:bg-bakery-cream-50;
  }

  .nav-link::after {
    @apply absolute bottom-0 left-1/2 w-0 h-0.5 bg-gradient-to-r from-bakery-peach-500 to-bakery-gold-500
           transition-all duration-300;
    content: '';
  }

  .group:hover .nav-link::after {
    @apply w-full left-0;
  }

  /* Category chip styles */
  .category-chip {
    @apply inline-flex items-center px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base font-medium rounded-full
           bg-gradient-to-r from-bakery-cream-100 to-bakery-peach-100 text-bakery-brown-700 border border-bakery-cream-200
           hover:from-bakery-cream-200 hover:to-bakery-peach-200 hover:text-bakery-brown-800 hover:border-bakery-cream-300
           transition-all duration-300 cursor-pointer touch-manipulation min-h-[44px] justify-center
           hover:scale-105 active:scale-95 shadow-sm hover:shadow-lg;
  }

  /* Loading spinner styles */
  .spinner {
    @apply animate-spin w-6 h-6 border-4 border-bakery-cream-300 border-t-bakery-brown-500 rounded-full;
  }

  /* Toast notification styles */
  .toast {
    @apply bg-white/95 backdrop-blur-md border border-bakery-cream-200 rounded-2xl shadow-large p-4
           animate-bounce;
  }

  .toast-success {
    @apply border-l-4 border-l-accent-success bg-green-50/95;
  }

  .toast-error {
    @apply border-l-4 border-l-accent-error bg-red-50/95;
  }

  /* Modal overlay */
  .modal-overlay {
    @apply fixed inset-0 bg-bakery-brown-900/20 backdrop-blur-sm z-50 animate-fade-in;
  }

  /* Modal content */
  .modal-content {
    @apply bg-white/95 backdrop-blur-md rounded-3xl shadow-xl border border-bakery-cream-200
           animate-scale-in;
  }

  /* Header with glassmorphism effect */
  .header-glass {
    @apply bg-white/95 backdrop-blur-md border-b border-bakery-cream-200;
  }

  /* Skeleton loading animation */
  .skeleton {
    @apply bg-gradient-to-r from-bakery-cream-200 via-bakery-cream-300 to-bakery-cream-200
           bg-[length:200%_100%] animate-shimmer rounded-2xl;
  }

  /* Price display styling */
  .price-display {
    @apply text-2xl font-bold bg-gradient-to-r from-bakery-brown-600 to-bakery-gold-600
           bg-clip-text text-transparent;
  }

  /* Badge styles */
  .badge-new {
    @apply bg-gradient-to-r from-bakery-peach-500 to-bakery-gold-500 text-white
           text-xs font-bold px-2 py-1 rounded-full uppercase tracking-wide;
  }

  .badge-sale {
    @apply bg-gradient-to-r from-red-500 to-pink-500 text-white
           text-xs font-bold px-2 py-1 rounded-full uppercase tracking-wide animate-pulse-soft;
  }

  /* Image container with overlay effects */
  .image-overlay {
    @apply relative overflow-hidden rounded-2xl;
  }

  .image-overlay::after {
    @apply absolute inset-0 bg-gradient-to-t from-bakery-brown-900/20 to-transparent
           opacity-0 hover:opacity-100 transition-opacity duration-300;
    content: '';
  }

  /* Enhanced button states for better interaction feedback */
  .btn-primary:active {
    @apply transform scale-95;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-secondary:active {
    @apply transform scale-95;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  /* Improved focus states for better accessibility */
  .btn-primary:focus-visible,
  .btn-secondary:focus-visible,
  .btn-outline:focus-visible {
    @apply outline-2 outline-offset-2 outline-bakery-brown-500;
  }

  .input-field:focus-visible {
    @apply outline-2 outline-offset-2 outline-bakery-brown-400;
  }

  /* Enhanced product card interactions */
  .product-card:focus-within {
    @apply ring-2 ring-bakery-cream-400 ring-offset-2;
  }

  /* Better text truncation for product cards */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Smooth scroll for the entire page */
  html {
    scroll-behavior: smooth;
  }

  /* Enhanced animation timing for better perceived performance */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-slide-up {
    animation: slideUp 0.8s ease-out forwards;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
  }

  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
  }

  .animate-pulse-soft {
    animation: pulseSoft 2s infinite;
  }

  @keyframes pulseSoft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }

  .animate-shimmer {
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn-primary {
      @apply border-2 border-black;
    }

    .product-card {
      @apply border-2 border-gray-400;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    html {
      scroll-behavior: auto;
    }
  }

  /* Dark mode support (preparation) */
  @media (prefers-color-scheme: dark) {
    /* We can add dark mode styles here in the future */
  }
}
